(()=>{function d(t,o=[],e={}){let n="http://www.w3.org/2000/svg",r=document.createElementNS(n,t);o.forEach(s=>{r.classList.add(s)});for(let[s,c]of Object.entries(e))r.setAttribute(s,c);return r}function v(t,o){let e=`M${o[0][0]},${o[0][1]}`+o.slice(1).map(c=>`L${c[0]},${c[1]}`).join(" "),s=d("path",["level"],{d:e,fill:"none",stroke:"black","stroke-width":1});t.appendChild(s)}function a({intercept:t,slope:o}){return function(e){return o*e+t}}function h(t,o){let e=t.slope,n=o.slope;return e===n?j():Number.isFinite(e)&&Number.isFinite(n)?E(t,o):!Number.isFinite(e)&&n===0||!Number.isFinite(n)&&e===0?L(t,o):$(t,o)}function j(){return null}function E(t,o){let e=t.slope,n=t.intercept,r=o.slope,s=o.intercept,c=1/(e-r);return[c*(s-n),c*(e*s-n*r)]}function $(t,o){let e=t.slope,n=t.intercept,r=o.slope,s=o.intercept;if(!Number.isFinite(e)){let u=a({slope:r,intercept:s})(t.x);return[(u-s)/r,u]}let l=a({slope:e,intercept:n})(o.x);return[(l-n)/e,l]}function L(t,o){let e=t.slope,n=t.intercept,r=o.slope,s=o.intercept;return!Number.isFinite(r)&&e===0?[o.x,n]:!Number.isFinite(e)&&r===0?[t.x,s]:null}function N(t,o){let[e,n]=t,[r,s]=o;return e===r?s<n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:(n*r-s*e)/(r-e)}function y(t,o){let[e,n]=t,[r,s]=o;return e===r?s<n?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:n===s?0:(s-n)/(r-e)}function m(t,o){let e=y(t,o),n=N(t,o);return Number.isFinite(e)?{intercept:n,slope:e}:{intercept:n,slope:e,x:t[0]}}function b(t,o){let e=h(t,o);if(e===null)return null;if(o.slope===0){if(!Number.isFinite(t.slope))return{intercept:t.intercept,slope:-t.slope,x:t.x};let l=a({...t}),[i,p]=e,u=-1/t.slope,f=p-u*i,g=u*(i+1)+f;return m([...e],[i+1,g])}let n=a({...o}),r=e[0],s=n(r),c=n(r+1);return m([r,s],[r-c,s+1])}function w(t,o,e,n){let r=C(e,n,o),s=`M${r[0][0]},${r[0][1]}`+r.slice(1).map(u=>`L${u[0]},${u[1]}`).join(" "),i=d("path",["light"],{d:s,fill:"none",stroke:"orange","stroke-width":1}),p=i.getTotalLength();i.style.strokeDasharray=`${p} ${p}`,i.style.strokeDashoffset=p,i.getBoundingClientRect(),i.style.transition="stroke-dashoffset 1s linear",t.appendChild(i),setTimeout(()=>i.style.strokeDashoffset="0",500)}function C(t,o,e){let n=[t],r=x(t),s=x(t.map((c,l)=>c+o[l]));for(let c=1;c<e.length-1;c++){let l=x(e[c]),i=x(e[c+1]),p=m(l,i),u=m(r,s),f=h(p,u);if(f){n.push(S(f));let g=b(p,u),[I,k]=f;r=[I,k],s=[I+1,g.slope*(I+1)+k],console.log("Crossed",f,g,s)}}return console.log(n),n}function x(t){let[o,e]=t;return[o,100-e]}function S(t){let[o,e]=t;return[o,100-e]}var F=[[49,90],[40,90],[40,10],[60,10],[60,90],[51,90]];var T=document.getElementById("root"),st=document.getElementById("light");v(T,F);w(T,F,[50,91],[0,-1]);O(T);function O(t){let o=document.querySelector('link[rel="icon"]'),n=new XMLSerializer().serializeToString(t);o.href="data:image/svg+xml;utf8,"+n}})();
//# sourceMappingURL=app.js.map
